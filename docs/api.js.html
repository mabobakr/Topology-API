<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: api.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: api.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>const Topology = require("./topology");

let topologies = [];

/**
 * @function readJSON
 * @param {String} fileName
 * @description Read a topology from given json file
 * @throws {Error} If encountered problems while reading the file
 */
exports.readJSON = function (fileName) {
  // Create new topology and add it to topologies array
  topologies.push(new Topology(fileName));
};

/**
 * @function writeJSON
 * @param {String} topologyId
 * @description Write topology specified by topologyId to json file
 * @throws {Error} If topology doesn't exist or encountered probelms while writing the file
 */
exports.writeJSON = function (topologyId) {
  // Find required topology
  let topology = topologies.find((topology) => topology.id == topologyId);

  // Throw error if topology doesn't exist
  if (!topology) throw new Error("The given topology doesn't exist");

  // Write topology to json file
  topology.writeToFile();
};

/**
 * @function queryTopologies
 * @description Get topologies are currently in memory
 * @returns {Topology[]} Array of topologies that are currently in memory
 */
exports.queryTopologies = function () {
  return topologies;
};

/**
 * @function deleteTopology
 * @param {String} topologyId
 * @description Delete topology specified by topologyId
 * @throws {Error} If topology doesn't exist
 */
exports.deleteTopology = function (topologyId) {
  // Find index of topology
  let index = topologies.findIndex((topology) => topology.id == topologyId);

  // Throw error if topology doesn't exist
  if (index == -1) throw new Error("The given topology doesn't exist");

  // Remove topology from memory
  topologies.splice(index, 1);
};

/**
 * @function queryDevices
 * @param {String} topologyId
 * @description Get devices of the topology specified by topologyId
 * @returns {Object[]} Array of objects representing devices in the topology
 * @throws {Error} If topology doesn't exist
 */
exports.queryDevices = function (topologyId) {
  // Find required topology
  let topology = topologies.find((topology) => topology.id == topologyId);

  // If found return its components
  if (topology) return topology.components;

  // If not found throw an error
  throw new Error("The given topology doesn't exist");
};

/**
 * @function getDevicesWithNode
 * @param {String} topologyId
 * @param {String} netlistNodeId
 * @description Get devices of the topology specified by topologyId that are connected to given netlist node
 * @returns {Object[]} Array of objects representing required devices in the topology
 * @throws {Error} If topology doesn't exist
 */

exports.getDevicesWithNode = function (topologyId, netlistNodeId) {
  // Find required topology
  let topology = topologies.find((topology) => topology.id == topologyId);

  // If not found, throw an error
  if (!topology) throw new Error("The given topology doesn't exist");

  // If found, return array of devices
  let devices = topology.getNodeDevices(netlistNodeId);
  return devices;
};
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Topology.html">Topology</a></li></ul><h3>Global</h3><ul><li><a href="global.html#deleteTopology">deleteTopology</a></li><li><a href="global.html#getDevicesWithNode">getDevicesWithNode</a></li><li><a href="global.html#queryDevices">queryDevices</a></li><li><a href="global.html#queryTopologies">queryTopologies</a></li><li><a href="global.html#readJSON">readJSON</a></li><li><a href="global.html#writeJSON">writeJSON</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.4</a> on Wed Sep 29 2021 01:28:54 GMT+0200 (Eastern European Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
